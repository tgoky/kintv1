{"version":3,"sources":["features/data/apis/minter/minter.ts","helpers/getContract.tsx"],"names":["MinterApi","constructor","web3","chain","fetchMinterReserves","minter","canBurnReserves","contract","tokenAddress","contractAddress","this","abi","MinterAbi","eth","Contract","from","defaultAccount","data","methods","reserveBalanceMethod","call","BigNumber","BIG_ZERO"],"mappings":"8LASO,MAAMA,EACXC,YAAsBC,EAAsBC,GAAqB,KAA3CD,OAAU,KAAYC,OAAqB,CACjE,yBAAaC,CAAoBC,GAC/B,GAAIA,EAAOC,gBAAiB,CAC1B,MAAMC,GCbgBC,EDaOH,EAAOI,gBCbAP,EDaiBQ,KAAKR,KCbhBS,EDasBC,ECZ7DV,EACH,IAAIA,EAAKW,IAAIC,SAASH,EAAKH,EAAc,CACvCO,KAAMb,EAAKW,IAAIG,iBAEjB,MDSMC,QAAgC,OAARV,QAAQ,IAARA,OAAQ,EAARA,EAAUW,QAAQb,EAAOc,wBAAwBC,QAC/E,OAAO,IAAIC,IAAUJ,EACvB,CACE,OAAO,IAAII,IAAUC,KCjBpB,IAAqBd,EAAcN,EAAMS,CDmB9C,E","file":"static/js/43.24bd43c6.chunk.js","sourcesContent":["import Web3 from 'web3';\nimport { ChainEntity } from '../../entities/chain';\nimport { FetchMinterReservesResult, IMinterApi } from './minter-types';\nimport { getContract } from '../../../../helpers/getContract';\nimport MinterAbi from '../../../../config/abi/minter.json';\nimport BigNumber from 'bignumber.js';\nimport { MinterEntity } from '../../entities/minter';\nimport { BIG_ZERO } from '../../../../helpers/big-number';\n\nexport class MinterApi implements IMinterApi {\n  constructor(protected web3: Web3, protected chain: ChainEntity) {}\n  public async fetchMinterReserves(minter: MinterEntity): Promise<FetchMinterReservesResult> {\n    if (minter.canBurnReserves) {\n      const contract = getContract(minter.contractAddress, this.web3, MinterAbi);\n      const data: BigNumber = await contract?.methods[minter.reserveBalanceMethod]().call();\n      return new BigNumber(data);\n    } else {\n      return new BigNumber(BIG_ZERO);\n    }\n  }\n}\n","export function getContract(tokenAddress, web3, abi) {\n  return web3\n    ? new web3.eth.Contract(abi, tokenAddress, {\n        from: web3.eth.defaultAccount,\n      })\n    : null;\n}\n"],"sourceRoot":""}